(globalThis.webpackChunksenhub=globalThis.webpackChunksenhub||[]).push([[874],{85755:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Page:()=>W,Widget:()=>J,widgetConfig:()=>B});var n=s(55754),r=s(49142),a=s(92950),i=s(15454),o=s.n(i),c=s(95418),l=s(32642),d=(s(16200),s(63805));var h=s(97429).Buffer;class u{constructor(){this._ipfs=async()=>{try{return window.ipfs||(window.ipfs=await(0,l.Ue)()),window.ipfs}catch(t){return await(e=500,new Promise((t=>setTimeout(t,e)))),await this._ipfs()}var e},this.get=async e=>{if(!u.isCID(e))throw new Error("Invalid CID");const t=await this._ipfs(),s=await t.cat(e);let n="";for await(const r of s)n+=h.from(r).toString();return JSON.parse(n)},this.set=async e=>{if(!e)throw new Error("Empty data");const t=JSON.stringify(e),s=await this._ipfs(),{path:n}=await s.add(t);return n}}}u.isCID=e=>{try{return!!e&&l.bf.multihash(e)}catch(t){return!1}};const p=u;class f{constructor(e){if(this.dbName=void 0,this.driver=void 0,this.ipfs=void 0,this.createInstance=e=>o().createInstance({driver:this.driver,name:this.dbName,storeName:e}),this.dropInstance=async e=>{const t=this.createInstance(e);return await t.clear(),await o().dropInstance({name:this.dbName,storeName:e})},this.all=async()=>{let e={};const t=(await this.createInstance("sentre").getItem("appIds")||[]).flat().concat(["sentre"]);for(const s of t){e[s]={};const t=this.createInstance(s);await t.iterate(((t,n)=>{e[s][n]=t}))}return e},this.fetch=async e=>await this.ipfs.get(e),this.backup=async()=>{const e=await this.all();return await this.ipfs.set(e)},this.restore=async e=>{const t=await this.fetch(e);for(const s in t){const e=await this.createInstance(s);for(const n in t[s]){const r=t[s][n];await e.setItem(n,r)}}return t},!c.account.isAddress(e))throw new Error("Invalid address");this.dbName=e,this.driver=[o().WEBSQL,o().LOCALSTORAGE],this.ipfs=new p}}var w=s(78589);const g={"logo-telegram":s.p+"static/media/icon-telegram.2450489f40d03000fe65fc1c6f238d85.svg"};var m=s(45263);const b=(0,a.forwardRef)((({name:e,className:t,...s},n)=>{const r=t?"anticon "+t:"anticon";return(0,m.jsx)("span",{className:r,...s,children:g[e]?(0,m.jsx)("ion-icon",{ref:n,src:g[e]}):(0,m.jsx)("ion-icon",{ref:n,name:e})})}));var x=s(19289);const y="main",v=(0,x.createAsyncThunk)("main/increaseCounter",(async(e,{getState:t})=>{const{main:{counter:s}}=t();return{counter:s+1}})),j=(0,x.createSlice)({name:y,initialState:{counter:0},reducers:{},extraReducers:e=>{e.addCase(v.fulfilled,((e,{payload:t})=>{Object.assign(e,t)}))}}).reducer;const I={appId:"senhub",url:"https://descartesnetwork.github.io/senhub/index.js",senhub:"senhub@https://descartesnetwork.github.io/senhub/index.js"},C={devnet:{node:"https://api.devnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},testnet:{node:"https://api.testnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},mainnet:{node:"https://api.mainnet-beta.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}},T={manifest:{development:{...I},staging:{...I},production:{...I}}[d.OB],sol:C[d.ef]},{manifest:{appId:k}}=T,A=()=>{const{wallet:{address:e}}=(0,r.useWallet)(),t=(0,n.useDispatch)(),{counter:s}=(0,n.useSelector)((e=>e.main)),i=(0,a.useMemo)((()=>((e,t)=>c.account.isAddress(e)?new f(e).createInstance(t):void 0)(e,k)),[e]),o=(0,a.useCallback)((()=>t(v())),[t]);return(0,a.useEffect)((()=>{i&&i.setItem("counter",s)}),[i,s]),(0,m.jsxs)(w.Row,{gutter:[24,24],align:"middle",children:[(0,m.jsx)(w.Col,{span:24,children:(0,m.jsxs)(w.Space,{align:"center",children:[(0,m.jsx)(b,{name:"newspaper-outline"}),(0,m.jsx)(w.Typography.Title,{level:4,children:"Page"})]})}),(0,m.jsx)(w.Col,{span:24,children:(0,m.jsxs)(w.Typography.Text,{children:["Address: ",e]})}),(0,m.jsx)(w.Col,{children:(0,m.jsxs)(w.Typography.Text,{children:["Counter: ",s]})}),(0,m.jsx)(w.Col,{children:(0,m.jsx)(w.Button,{onClick:o,children:"Increase"})})]})},N=()=>{const{ui:{width:e,infix:t}}=(0,r.useUI)(),s=(0,n.useDispatch)(),{counter:i}=(0,n.useSelector)((e=>e.main)),o=(0,a.useCallback)((()=>s(v())),[s]);return(0,m.jsxs)(w.Row,{gutter:[24,24],children:[(0,m.jsx)(w.Col,{span:24,children:(0,m.jsxs)(w.Space,{align:"center",children:[(0,m.jsx)(b,{name:"apps-outline"}),(0,m.jsx)(w.Typography.Title,{level:4,children:"Widget"})]})}),(0,m.jsx)(w.Col,{span:24,children:(0,m.jsxs)(w.Typography.Text,{children:["Env: ",d.OB," - ",e,"px - ",t]})}),(0,m.jsx)(w.Col,{children:(0,m.jsxs)(w.Typography.Text,{children:["Counter: ",i]})}),(0,m.jsx)(w.Col,{children:(0,m.jsx)(w.Button,{onClick:o,children:"Increase"})})]})};BigInt.prototype.toJSON=function(){return this.toString()};const S={serializableCheck:{isSerializable:e=>"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||(e=>{if(null===e)return!1;const t=Object.getPrototypeOf(e);return null!==t&&null===Object.getPrototypeOf(t)})(e)||"bigint"===typeof e}},P=(0,x.configureStore)({middleware:e=>e(S),devTools:!1,reducer:{main:j}}),{manifest:{appId:O}}=T,W=()=>(0,m.jsx)(r.UIProvider,{appId:O,antd:!0,children:(0,m.jsx)(r.WalletProvider,{children:(0,m.jsx)(n.Provider,{store:P,children:(0,m.jsx)(A,{})})})}),B={size:"small",type:"solid"},J=()=>(0,m.jsx)(r.UIProvider,{appId:O,antd:!0,children:(0,m.jsx)(n.Provider,{store:P,children:(0,m.jsx)(N,{})})})},63805:(e,t,s)=>{"use strict";s.d(t,{OB:()=>r,ef:()=>a});var n=s(53933);const r="production",a=(()=>{switch(n.Z.get("network")){case"devnet":return"devnet";case"testnet":return"testnet";default:return"mainnet"}})()},53933:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});const n="sentre",r=window.localStorage,a=e=>{if(!e)return null;try{return JSON.parse(e)}catch(t){return null}},i={set:(e,t)=>{let s=a(r.getItem(n));s&&"object"===typeof s||(s={}),s[e]=t,r.setItem(n,JSON.stringify(s))},get:e=>{let t=a(r.getItem(n));return t&&"object"===typeof t?t[e]:null},clear:e=>{i.set(e,null)}},o=i},35883:()=>{},46601:()=>{},89214:()=>{},5696:()=>{},85568:()=>{},64009:()=>{},42611:()=>{},88795:()=>{},89408:()=>{},57600:()=>{},21724:()=>{},62678:()=>{},25819:()=>{},52361:()=>{},94616:()=>{},55024:()=>{}}]);
//# sourceMappingURL=874.24540e1f.chunk.js.map